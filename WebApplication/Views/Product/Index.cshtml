@model WebApplication.Models.ProductViewModel
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewBag.Title = "List Product";
}

<h2>Products List</h2>

<div class="row">
    <div class="col-xs-12">
        @using (Html.BeginForm("Search", "Product", FormMethod.Post, new { @class = "form-inline", role = "form" }))
        {
            <div class="form-group">
                @Html.DropDownListFor(m => m.SelectedCategory, Model.CategoryItems, new { @name = "categoryId", @class = "form-control" })
            </div>
            <div class="form-group">
                @Html.TextBoxFor(m => m.Search, new { @name = "search", @class = "form-control", @placeholder = "Search" })
            </div>
            <button type="submit" class="btn btn-success">
                Search
            </button>
            @Html.ActionLink("Add New Product", "Add", null, new { @class = "btn btn-primary pull-right" })
        }
    </div>
    <br />
    <div class="col-xs-12 clearfix">
        <ul class="list-group">
            @foreach (var item in Model.Products)
            {
                <li class="list-group-item clearfix">
                    <div class="pull-right">
                        @Html.ActionLink("Update", "Update", new { id = item.ID }, new { @class = "btn btn-default" })
                        @Html.ActionLink("Show Details", "Details", new { id = item.ID }, new { @class = "btn btn-default" })
                        @Html.ActionLink("Delete", "Delete", new { id = item.ID }, new { @class = "btn btn btn-danger" })
                    </div>

                    <h3 class="list-group-item-heading"> @Html.DisplayFor(mItem => item.Nom) </h3>

                    <div class="list-group-item-text">
                        <p>
                            <strong>Code: </strong> @Html.DisplayFor(mItem => item.Code) <br/>
                            <strong>Category: </strong> @Html.DisplayFor(mItem => item.Categorie.Libelle)<br />
                            <strong>Stock: </strong> @Html.DisplayFor(mItem => item.Stock) items left<br />
                        </p>
                    </div>

                    <div class="pull-right">
                        <h2>@Html.DisplayFor(mItem => item.Prix) € </h2>
                    </div>
                </li>
            }
        </ul>
    </div>
</div>